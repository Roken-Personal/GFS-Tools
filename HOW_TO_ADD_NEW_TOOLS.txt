# How to Add New Tools to GFS Tools Site

## Overview
This guide explains how to add a new tool card to the GFS Tools site with proper styling and functionality. The site uses a 4-column grid layout that automatically wraps to new rows.

## Step-by-Step Instructions

### Step 1: Add the Tool Card HTML
1. Open `index.html`
2. Find the `.tools-grid` section (around line 31)
3. Add your new tool card inside the `.tools-grid` div, following this structure:

```html
<div class="tool-card">
    <div class="tool-icon" aria-hidden="true">
        <i class="fas fa-YOUR-ICON-NAME"></i>
    </div>
    <h3>Your Tool Name</h3>
    <p>Brief description of what your tool does.</p>
    <div class="tool-buttons">
        <button class="btn btn-outline open-tool" data-tool="your-tool-id" aria-label="Open Your Tool Name tool">Open</button>
    </div>
</div>
```

**Important Notes:**
- Replace `YOUR-ICON-NAME` with a FontAwesome icon (e.g., `fa-calculator`, `fa-chart-bar`, etc.)
- Replace `your-tool-id` with a unique identifier (e.g., `data-tool="calculator"`)
- Keep the description concise (2-3 lines max)

### Step 2: Add Tool Content to Modal
1. In `index.html`, find the `#tool-modal` section (around line 81)
2. Inside the `.modal-body` div, add your tool's content div:

```html
<!-- Your Tool Content -->
<div id="your-tool-id-content" class="tool-content" style="display: none;">
    <div class="input-section">
        <h3>Your Tool Title</h3>
        <!-- Add your input fields, buttons, etc. here -->
    </div>
    
    <div class="actions">
        <button class="btn btn-primary" id="your-action-button">Action</button>
        <button class="btn btn-outline" id="your-clear-button">Clear</button>
    </div>
    
    <div class="results-section" id="your-results" style="display: none;">
        <h3>Results</h3>
        <!-- Add your results display here -->
    </div>
</div>
```

### Step 3: Add JavaScript Functionality
1. Open `script.js`
2. Find the `showToolContent` function (around line 655)
3. Add your tool case to the if-else chain:

```javascript
} else if (toolType === 'your-tool-id') {
    document.getElementById('default-wip').style.display = 'none';
    document.getElementById('your-tool-id-content').style.display = 'block';
    initializeYourTool();
}
```

4. Create your tool's initialization function:

```javascript
function initializeYourTool() {
    // Get your elements
    const yourButton = document.getElementById('your-action-button');
    const yourClearButton = document.getElementById('your-clear-button');
    
    // Add event listeners
    yourButton.addEventListener('click', function() {
        // Your tool logic here
        console.log('Your tool action triggered');
    });
    
    yourClearButton.addEventListener('click', function() {
        // Clear your inputs
        console.log('Your tool cleared');
    });
}
```

### Step 4: Update Settings Management
1. In `script.js`, find the `loadSettings` function (around line 56)
2. Add your tool to the `toolOrder` array:

```javascript
const toolOrder = settings.toolOrder || ['range-splitting', 'label-preview', 'range-jumping', 'route-mapping', 'your-tool-id'];
```

3. Add your tool to the `toolVisibility` object:

```javascript
const toolVisibility = settings.toolVisibility || {
    'range-splitting': true,
    'label-preview': true,
    'range-jumping': true,
    'route-mapping': true,
    'your-tool-id': true
};
```

4. Find the `toolData` object in `populateToolOrderList` function (around line 117) and add your tool:

```javascript
const toolData = {
    'range-splitting': { name: 'Range Splitting', description: 'Split ranges into smaller segments', icon: 'fas fa-cut' },
    'label-preview': { name: 'Label Preview', description: 'Preview and generate shipping labels', icon: 'fas fa-tag' },
    'range-jumping': { name: 'Range Jumping', description: 'Generate UPDATE scripts for range numbers', icon: 'fas fa-arrow-right' },
    'route-mapping': { name: 'Route Mapping', description: 'Generate SQL INSERT statements for carrier routes', icon: 'fas fa-route' },
    'your-tool-id': { name: 'Your Tool Name', description: 'Your tool description', icon: 'fas fa-YOUR-ICON-NAME' }
};
```

### Step 5: Grid Layout (4 per row)
The site is already configured for 4 tools per row with automatic wrapping:

- **Desktop (1200px+)**: 4 columns
- **Tablet (768px-1200px)**: 2 columns  
- **Mobile (under 768px)**: 1 column

The CSS handles this automatically in `styles.css`:

```css
.tools-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1.5rem;
}

@media (max-width: 1200px) {
    .tools-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 768px) {
    .tools-grid {
        grid-template-columns: 1fr;
    }
}
```

### Step 6: Styling Guidelines
Your tool will automatically inherit the site's styling. Key classes to use:

- `.input-section` - For input areas
- `.results-section` - For displaying results
- `.actions` - For button groups
- `.btn`, `.btn-primary`, `.btn-outline` - For buttons
- `.form-input`, `.form-select` - For form elements

### Step 7: Testing Your Tool
1. Open the site in a browser
2. Your new tool card should appear in the grid
3. Click the "Open" button to test the modal
4. Test all functionality
5. Check that the tool appears in Settings for reordering/hiding

### Step 8: Optional - Add Copy/Download Functionality
If your tool generates results, you can add copy functionality:

```javascript
// Add to your tool's JavaScript
function copyResults() {
    const results = document.getElementById('your-results').textContent;
    window.copyToClipboard(results);
}

// Add copy button to your HTML
<button class="btn btn-secondary" id="copy-your-results">Copy Results</button>
```

## Example: Adding an "XML Formatter" Tool

### HTML Card:
```html
<div class="tool-card">
    <div class="tool-icon" aria-hidden="true">
        <i class="fas fa-code"></i>
    </div>
    <h3>XML Formatter</h3>
    <p>Format and validate XML code with proper indentation.</p>
    <div class="tool-buttons">
        <button class="btn btn-outline open-tool" data-tool="xml-formatter" aria-label="Open XML Formatter tool">Open</button>
    </div>
</div>
```

### Modal Content:
```html
<div id="xml-formatter-content" class="tool-content" style="display: none;">
    <div class="input-section">
        <h3>XML Formatter</h3>
        <div class="input-group">
            <label for="xml-input">Paste your XML code:</label>
            <textarea id="xml-input" placeholder="<root><item>value</item></root>" rows="8"></textarea>
        </div>
    </div>
    
    <div class="actions">
        <button class="btn btn-primary" id="format-xml">Format XML</button>
        <button class="btn btn-secondary" id="validate-xml">Validate</button>
        <button class="btn btn-outline" id="clear-xml">Clear</button>
    </div>
    
    <div class="results-section" id="xml-results" style="display: none;">
        <h3>Formatted XML</h3>
        <div class="xml-output">
            <div class="output-header">
                <span class="output-label">Formatted XML:</span>
                <button class="btn btn-secondary" id="copy-xml">Copy XML</button>
            </div>
            <pre id="xml-formatted" class="xml-code"></pre>
        </div>
    </div>
    
    <div class="error-section" id="xml-error" style="display: none;">
        <h3>Validation Error</h3>
        <div class="error-message">
            <i class="fas fa-exclamation-triangle"></i>
            <p id="xml-error-text">Invalid XML format detected.</p>
        </div>
    </div>
</div>
```

### JavaScript:
```javascript
function initializeXMLFormatter() {
    const xmlInput = document.getElementById('xml-input');
    const formatBtn = document.getElementById('format-xml');
    const validateBtn = document.getElementById('validate-xml');
    const clearBtn = document.getElementById('clear-xml');
    const results = document.getElementById('xml-results');
    const errorSection = document.getElementById('xml-error');
    const formattedOutput = document.getElementById('xml-formatted');
    const copyBtn = document.getElementById('copy-xml');
    
    formatBtn.addEventListener('click', function() {
        try {
            const xmlText = xmlInput.value.trim();
            if (!xmlText) {
                showXMLError('Please enter XML code to format.');
                return;
            }
            
            // Parse and format XML
            const parser = new DOMParser();
            const xmlDoc = parser.parseFromString(xmlText, 'text/xml');
            
            // Check for parsing errors
            const parseError = xmlDoc.querySelector('parsererror');
            if (parseError) {
                showXMLError('Invalid XML format: ' + parseError.textContent);
                return;
            }
            
            // Format the XML with proper indentation
            const formatted = formatXML(xmlDoc.documentElement, 0);
            formattedOutput.textContent = formatted;
            results.style.display = 'block';
            errorSection.style.display = 'none';
            
        } catch (error) {
            showXMLError('Error formatting XML: ' + error.message);
        }
    });
    
    validateBtn.addEventListener('click', function() {
        try {
            const xmlText = xmlInput.value.trim();
            if (!xmlText) {
                showXMLError('Please enter XML code to validate.');
                return;
            }
            
            const parser = new DOMParser();
            const xmlDoc = parser.parseFromString(xmlText, 'text/xml');
            
            const parseError = xmlDoc.querySelector('parsererror');
            if (parseError) {
                showXMLError('XML is invalid: ' + parseError.textContent);
            } else {
                showXMLSuccess('XML is valid and well-formed!');
            }
            
        } catch (error) {
            showXMLError('Error validating XML: ' + error.message);
        }
    });
    
    clearBtn.addEventListener('click', function() {
        xmlInput.value = '';
        results.style.display = 'none';
        errorSection.style.display = 'none';
    });
    
    copyBtn.addEventListener('click', function() {
        const formattedText = formattedOutput.textContent;
        if (formattedText) {
            window.copyToClipboard(formattedText);
        }
    });
    
    function formatXML(node, indent) {
        let result = '';
        const spaces = '  '.repeat(indent);
        
        if (node.nodeType === Node.ELEMENT_NODE) {
            result += spaces + '<' + node.tagName;
            
            // Add attributes
            if (node.attributes.length > 0) {
                for (let i = 0; i < node.attributes.length; i++) {
                    const attr = node.attributes[i];
                    result += ' ' + attr.name + '="' + attr.value + '"';
                }
            }
            
            if (node.childNodes.length === 0) {
                result += ' />\n';
            } else {
                result += '>\n';
                
                // Process child nodes
                for (let i = 0; i < node.childNodes.length; i++) {
                    const child = node.childNodes[i];
                    if (child.nodeType === Node.TEXT_NODE && child.textContent.trim()) {
                        result += spaces + '  ' + child.textContent.trim() + '\n';
                    } else if (child.nodeType === Node.ELEMENT_NODE) {
                        result += formatXML(child, indent + 1);
                    }
                }
                
                result += spaces + '</' + node.tagName + '>\n';
            }
        }
        
        return result;
    }
    
    function showXMLError(message) {
        document.getElementById('xml-error-text').textContent = message;
        errorSection.style.display = 'block';
        results.style.display = 'none';
    }
    
    function showXMLSuccess(message) {
        // You could create a success notification here
        alert(message);
    }
}
```

## Troubleshooting

### Tool Card Not Appearing
- Check that the HTML is properly nested inside `.tools-grid`
- Verify the `data-tool` attribute matches your tool ID

### Modal Not Opening
- Ensure the `data-tool` attribute matches the content div ID
- Check that the JavaScript case matches your tool ID

### Styling Issues
- Make sure you're using the existing CSS classes
- Check that your HTML structure matches the examples

### Settings Not Working
- Verify you've added your tool to all the required arrays/objects in the settings functions
- Check that the tool ID is consistent throughout

## Best Practices

1. **Keep tool IDs consistent** - Use the same ID in HTML, JavaScript, and settings
2. **Use semantic HTML** - Proper labels, ARIA attributes, etc.
3. **Follow the existing patterns** - Look at existing tools for reference
4. **Test thoroughly** - Check all functionality and responsive behavior
5. **Keep descriptions concise** - Tool cards have limited space
6. **Use appropriate icons** - Choose FontAwesome icons that represent your tool's function

## File Structure
```
GFS-Tools/
├── index.html          # Main HTML file
├── script.js          # JavaScript functionality
├── styles.css         # CSS styling
└── _config.yml        # Site configuration
```

That's it! Your new tool should now be fully integrated into the GFS Tools site with proper styling, functionality, and settings management.
